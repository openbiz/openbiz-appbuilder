#!/usr/bin/env node
'use strict';

process.title = 'appbuilder';

var options = require('../lib/cli').options;
var fs = require('fs');
var basedir = process.cwd();

if(typeof options.config!='undefined' && fs.existsSync(options.config)){
	var config = require(options.config);	
	config.output = options.output;
	switch(config.type.toLowerCase()){
		case "application":
			require("../lib/builder/ApplicationBuilder").build(config);
			break;
		case "module":
			require("../lib/builder/ModuleBuilder").build(config);
			break;
		default:
			console.log("specified config doesn't setup [type] node.");
			break;
	}
}else{
	console.log("please specify a config file by using --config [path]");
}